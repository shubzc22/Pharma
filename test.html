<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Auto-join Jitsi (Experte) — Auto</title>
  <style>
    html,body,#jitsi-container{height:100%;margin:0;background:#f4f5f8}
    #jitsi-container iframe{height:100%;width:100%;border:0}
    .notice{position:fixed;left:12px;top:12px;z-index:9999;background:#fff;padding:8px;border-radius:6px;box-shadow:0 2px 6px rgba(0,0,0,.1)}
  </style>

  <!-- load external_api from your Jitsi domain -->
  <script src="https://meeting.experte.de/external_api.js"></script>
</head>
<body>
  <div class="notice">Joining meeting automatically...</div>
  <div id="jitsi-container"></div>

  <script>
    // room name (same as in your iframe src path)
    const ROOM_NAME = 't8oNswv5Tj';

    // options
    const domain = 'meeting.experte.de'; // change if different
    const options = {
      roomName: ROOM_NAME,
      parentNode: document.getElementById('jitsi-container'),
      configOverwrite: {
        prejoinPageEnabled: false,         // skip prejoin page
        startWithAudioMuted: false,
        startWithVideoMuted: false
      },
      interfaceConfigOverwrite: {
        DEFAULT_BACKGROUND: '#f4f5f8',
        SHOW_JITSI_WATERMARK: false,
        SHOW_WATERMARK_FOR_GUESTS: false,
        APP_NAME: 'EXPERTE.com Online Meeting',
        // toolbar buttons example (you can copy your toolbar list)
        TOOLBAR_BUTTONS: [
          'microphone','camera','closedcaptions','desktop','fullscreen','hangup','profile',
          'chat','recording','livestreaming','sharedvideo','settings','raisehand',
          'videoquality','filmstrip','invite','shortcuts','tileview','download','help'
        ]
      },
      userInfo: {
        displayName: 'Shubham'      // change to whatever name you want prefilled
      }
    };

    // create api and auto-join
    try {
      const api = new JitsiMeetExternalAPI(domain, options);

      // Optional: immediately set local display name again (some deployments require this)
      api.executeCommand('displayName', 'Shubham');

      // Optional: handle events
      api.addEventListener('videoConferenceJoined', () => {
        console.log('Auto-joined room', ROOM_NAME);
      });

      // If you want to force start audio/video: api.executeCommand('toggleVideo') or similar
    } catch (err) {
      console.error('Jitsi API init error:', err);
      document.querySelector('.notice').textContent = 'Could not start meeting automatically — check console.';
    }
  </script>
</body>
</html>
